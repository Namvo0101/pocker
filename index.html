<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dynamic Score Entry Table</title>
<style>
  body { text-align: center; }
  table { margin: auto; border: 1px solid black; border-collapse: collapse; }
  th, td { padding: 5px; text-align: center; }
  th { background-color: #f2f2f2; }
  input[type="number"] { 
    width: 100%; /* Full width */
    box-sizing: border-box; /* Include padding in width calculation */
    text-align: center; /* Center text */
  }
  .score-positive { color: green; }
  .score-negative { color: red; }
  .score-neutral { color: grey; }
  .check-positive { color: green; }
  .check-negative { color: red; }
  button { margin-top: 10px; }
</style>
</head>
<body>

<table id="scoreTable">
  <tr>
    <th>Check</th>
    <th>Bich Ngan</th>
    <th>Phuong Nam</th>
    <th>Cam Le</th>
    <th>Nhat Nam</th>
  </tr>
  <tr>
    <td></td>
    <td><span id="total-score-0" class="score-neutral">0</span></td>
    <td><span id="total-score-1" class="score-neutral">0</span></td>
    <td><span id="total-score-2" class="score-neutral">0</span></td>
    <td><span id="total-score-3" class="score-neutral">0</span></td>
  </tr>
</table>

<button onclick="enterPoints()">Enter Points</button>
<button onclick="completeScores()">Complete</button>

<script>
  // Function to add a new row for entering points
  function enterPoints() {
    var table = document.getElementById("scoreTable");
    var row = table.insertRow(-1);
    var checkCell = row.insertCell(0); // Add check column
    checkCell.innerHTML = ''; // Empty initially
    for (var i = 1; i <= 4; i++) {
      var cell = row.insertCell(i);
      cell.innerHTML = '<input type="number" class="score-input-' + (i - 1) + '">';
    }
  }

  // Function to calculate the total scores and update colors
  function completeScores() {
    var totals = [0, 0, 0, 0];
    var table = document.getElementById("scoreTable");
    var rowCount = table.rows.length;
    
    // Calculate column totals
    for (var i = 0; i < 4; i++) {
      var inputs = document.getElementsByClassName("score-input-" + i);
      totals[i] = Array.from(inputs).reduce((sum, input) => sum + (parseInt(input.value) || 0), 0);
      var totalElement = document.getElementById("total-score-" + i);
      totalElement.innerText = totals[i];
      if (totals[i] > 0) {
        totalElement.className = 'score-positive';
      } else if (totals[i] < 0) {
        totalElement.className = 'score-negative';
      } else {
        totalElement.className = 'score-neutral';
      }
    }

    // Update check column for each row
    for (var rowIdx = 2; rowIdx < rowCount; rowIdx++) { // Start from 2 to skip the header and total rows
      var row = table.rows[rowIdx];
      var rowSum = 0;
      for (var colIdx = 1; colIdx <= 4; colIdx++) {
        var cell = row.cells[colIdx].firstChild;
        rowSum += parseInt(cell.value) || 0;
      }
      var checkCell = row.cells[0];
      if (rowSum === 0) {
        checkCell.innerHTML = '<span class="check-positive">O</span>';
      } else {
        checkCell.innerHTML = '<span class="check-negative">X</span>';
      }
    }
  }
</script>

</body>
</html>